* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { height: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif; }
body { display: flex; flex-direction: column; }

/* Header com contador */
#header {
  background: #fff;
  border-bottom: 1px solid #e0e0e0;
  padding: 12px 16px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.08);
  z-index: 1000;
}
#header h1 {
  font-size: 18px;
  font-weight: 600;
  color: #1a1a1a;
  margin-bottom: 4px;
}
#counter {
  font-size: 14px;
  color: #666;
}

/* Layout: mapa acima, lista abaixo */
#layout { display: flex; flex-direction: column; flex: 1; overflow: hidden; }
#map-container { flex: 1; position: relative; min-height: 300px; }
#map { position: absolute; inset: 0; }

/* Lista de pacotes */
#sidebar {
  background: #f5f5f5;
  border-top: 1px solid #e0e0e0;
  overflow-y: auto;
  max-height: 45vh;
}
#package-list {
  list-style: none;
  padding: 8px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Card de pacote */
.list-item {
  background: #fff;
  border-radius: 12px;
  padding: 12px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  transition: all 0.2s;
}
.list-item:active { transform: scale(0.98); }
.list-item:hover { box-shadow: 0 2px 6px rgba(0,0,0,0.15); }

/* Número do pin */
.pin-number {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 16px;
  flex-shrink: 0;
  color: #fff;
  background: #6366f1;
  box-shadow: 0 2px 4px rgba(99,102,241,0.4);
}
.list-item.delivered .pin-number { background: #10b981; box-shadow: 0 2px 4px rgba(16,185,129,0.4); }
.list-item.failed .pin-number { background: #ef4444; box-shadow: 0 2px 4px rgba(239,68,68,0.4); }

/* Info do pacote */
.pkg-info { flex: 1; min-width: 0; }
.pkg-code {
  font-size: 13px;
  font-weight: 600;
  color: #1a1a1a;
  margin-bottom: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.pkg-addr {
  font-size: 12px;
  color: #666;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Status badge */
.status-badge {
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  padding: 4px 8px;
  border-radius: 6px;
  background: #e0e7ff;
  color: #4f46e5;
  white-space: nowrap;
}
.list-item.delivered .status-badge { background: #d1fae5; color: #047857; }
.list-item.failed .status-badge { background: #fee2e2; color: #b91c1c; }

/* Botão de navegação */
.nav-btn {
  padding: 8px 16px;
  background: #2563eb;
  color: #fff;
  text-decoration: none;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: background 0.2s;
  white-space: nowrap;
  flex-shrink: 0;
}
.nav-btn:hover { background: #1d4ed8; }
.nav-btn:active { transform: scale(0.95); }

/* Popup do mapa */
.leaflet-popup-content-wrapper {
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
.leaflet-popup-content {
  margin: 12px;
  min-width: 200px;
}
.popup-code {
  font-weight: 600;
  font-size: 14px;
  color: #1a1a1a;
  margin-bottom: 6px;
}
.popup-addr {
  font-size: 12px;
  color: #666;
  margin-bottom: 12px;
  line-height: 1.4;
}
.popup-actions {
  display: flex;
  gap: 8px;
}
.popup-btn {
  flex: 1;
  padding: 8px;
  text-align: center;
  text-decoration: none;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 600;
  transition: all 0.2s;
}
.popup-btn.nav {
  background: #f3f4f6;
  color: #374151;
  border: 1px solid #d1d5db;
}
.popup-btn.nav:hover { background: #e5e7eb; }
.popup-btn.deliver {
  background: #10b981;
  color: #fff;
}
.popup-btn.deliver:hover { background: #059669; }

/* Responsivo */
@media (max-width: 600px) {
  #header h1 { font-size: 16px; }
  #counter { font-size: 13px; }
  #sidebar { max-height: 50vh; }
  .list-item { padding: 10px; }
  .pin-number { width: 32px; height: 32px; font-size: 14px; }
  .pkg-code { font-size: 12px; }
  .pkg-addr { font-size: 11px; }
  .nav-btn { padding: 6px 12px; font-size: 12px; }
}
